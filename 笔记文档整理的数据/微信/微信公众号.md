# 公众号的开发
> 配置js安全域名

1. 找到 “设置与开发” 

2. 选择 功能设置

3. 配置js安全域名

4. 备注：[公众号设置 (qq.com)](https://mp.weixin.qq.com/cgi-bin/settingpage?t=setting/function&action=function&token=56006404&lang=zh_CN)

> 配置域名验证

- 配置描述:当我们在配置域名的时候，微信会向指定接口发送请求。我们需要在这个路径下响应指定的文件内容即可，验证的时候微信发送的是get请求，当公众号接受到消息时接受的是post请求，这里要明确
  1. 第一步: 下载密钥文件 [密钥文件](https://mp.weixin.qq.com/cgi-bin/settingpage?t=setting/function&action=function&token=56006404&lang=zh_CN)
  2. 第二步: 将文件部署到服务器职工路径下 使其能被直接调用
  3. 第三步: 在js安全域名里面直接配置 验证成功之后会有相关提示

> 公众号回复

+ 回复描述:

  + 当微信接受到消息时候，微信会将客户发送的消息 通过post请求将消息转发到我们的服务器上,我们通过post /wechat 这个接口可以获取到转发过来的数据 [数据格式](#数据格式)

+ 数据格式(接收的数据的格式):

  ```json
  {
    ToUserName: [ 'gh_bb6ec8e91303' ],
    FromUserName: [ 'okFU-5iv3Qi-kPEEmIU9wAV-wCSc' ],
    CreateTime: [ '1660961253' ],
    MsgType: [ 'text' ],
    Content: [ '测试' ],
    MsgId: [ '23779247390812459' ]
  }
  ```

  |              |                    |
  | ------------ | ------------------ |
  | ToUserName   | 当前公众号的所属人 |
  | FromUserName | 用户UID            |
  | CreateTime   | 接收消息的日期     |
  | MsgType      | 接受消息的类型     |
  | Content      | 接受的消息         |
  | MsgId        | 消息ID             |

+ 数据格式(发送的数据格式) [消息回复文档](https://developers.weixin.qq.com/doc/offiaccount/Message_Management/Passive_user_reply_message.html#1)

  + 文本类消息
  + 语音类消息
  + 图片类消息
  + 链接类消息

+ 模板数据(发送的数据格式)

  + 设置模板
  + 发送模板

+ 

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

   